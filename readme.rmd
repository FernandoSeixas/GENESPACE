---
title: "README"
author: "JTLovell"
date: "9/11/2018"
output: html_document
---
# Overview

A common goal in comparative genomics is to compare gene sequences of many species with reference to the ancestral state. While simple in highly conserved, single copy genes and dipliod/haploid organisms, such alignments are tricky when extending to the biological complexity of most genomes. 

Here, we develop a pipeline to accomplish alignemnts in "gene space" (within, or near gene models) to gain a more complete picture of genomic polymorphism among species. The approach can handle any ploidy, ancient or recent whole-genome duplicates, inversions (and other small-scale rearangements) and most other known complexity. Such flexibility is affordered by accomplishing basic comparative genomes tasks within collinear blocks. Once the blocks are constructed, any basic task can be accomplished, knowing that one is comparing evolutionarily related, diploid sequences. 

## General pipeline

1. pairwise blast search --> colinear blocks of genes
2. orthofinder within colinear blocks --> genes missing in at least one genome
3. blat search within blocks for orthologs of missing genes --> regions containing missing sequence
4. exonerate missing sequence --> pseudo-CDS of unannotated sequence
5. multiple sequence alignemnt of all sequences --> sequence divergence statistics

## Outputs

1. List of single copy orthologs between each pair of genomes
2. List of genes without orthologous sequences in each genome
3. Mapping file with the positions of genes in colinear blocks between each pair of genomes
4. Block file with coordinates of collinear blocks between each pair of genomes
3. Multiple sequence alignments for each orthogroup (tested within colinear blocks)

# Input data

Each genome must have five datasets

1. Annotation file (gff3 format)
2. Peptide fasta file of the primary transcript for each gene
3. CDS fasta file of the primary transcript for each gene
4. Full-length transcript fasta file of the primary transcript for each gene
5. Genomic assembly fasta

To get started, make a project directory, e.g.:

`mkdir /Users/jlovell/Desktop/grass_genespace`
`cd /Users/jlovell/Desktop/grass_genespace`

Then make two raw data subdirectories: `raw_annotations` and `raw_assemblies`. 

Copy all the assembly fasta files into the raw_assemblies directory and rename them as `[genomeID].fa`. 

Make a subdirectory named [genomeID] for each `genomeID` in the raw_annotations directory. Place the four annotation files of each genomeID into the respective subdirectories. It doesn't matter what the annotations are named, as long as there is a distinguishing character string in each file name that identifies the type of annotation file. For example, the CDS fastas may all have `cds_primaryTranscriptOnly` in their names. 







